<div class="container-fluid">
  <img src="images/subzapp_logo.png" class="img-responsive subs_app_logo" alt="Responsive image">
</div>
<div class="row text-center main">
  <h2 >Viewing: {{ team.main_org.name }}</h2>
  <h3> {{ team.name }}</h3>
  <form ng-show="user.club_admin" ng-submit="update_eligible_date()" 
      method="post" enctype="application/x-www-form-urlencoded">
        <label class="col-sm-2">Eligible date: </label>
    <div>
      
      <div class="col-sm-10 black_text" ng-show"user.club_admin">
        <div class="dropdown">
          <a class="dropdown-toggle" id="dropdown3" role="button" data-toggle="dropdown" data-target="#" href="">
            <div class="input-group"><input type="text" class="form-control" value="{{ team.eligible_date | date:'MM/dd/yyyy @ h:mma'}}" 
              data-ng-model="team.eligible_date"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
            </div>
          </a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <datetimepicker value="{{ team.eligible_date | date:'MM/dd/yyyy @ h:mma'}}" data-ng-model="team.eligible_date" 
            data-datetimepicker-config="{ dropdownSelector: '#dropdown3', startView: 'year', minView: 'day' }"/>
          </ul>
        </div>
        
      </div> <!-- end of col-sm-10 -->
    </div> <!-- end of form-group -->
    <input type="submit" value="Update date" class="btn btn-default btn btn-success btn-lg register">
  </form>

  <div class="col-xs-12">
    
    <h2>Create an event</h2>

    <form class="form-horizontal register_form" 
              ng-submit="create_event()" 
              method="post" enctype="application/x-www-form-urlencoded">

      <div class="form-group">
        <label class="col-sm-2">Name: </label>
        <div class="col-sm-10">
          <input type="text" name="name" ng-model="create_event_data.name" class="form-control" placholder:'name'>
        </div> <!-- end of col-sm-10 -->
      </div> <!-- end of form-group -->

      <div class="form-group">
        <label class="col-sm-2">Details: </label>
        <div class="col-sm-10">
          <input type="text" name="name" ng-model="create_event_data.details" class="form-control" placholder:'details'>
        </div> <!-- end of col-sm-10 -->
      </div> <!-- end of form-group -->

        

      <div class="form-group">
        <label class="col-sm-2">Start Time: </label>
        <div class="col-sm-10 black_text">
          <div class="dropdown">
            <a class="dropdown-toggle" id="dropdown1" role="button" data-toggle="dropdown" data-target="#" href="">
              <div class="input-group"><input type="text" class="form-control" data-ng-model="create_event_data.start_date"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
              </div>
            </a>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
              <datetimepicker data-ng-model="create_event_data.start_date" data-datetimepicker-config="{ dropdownSelector: '#dropdown1' }"/>
            </ul>
          </div>
          
        </div> <!-- end of col-sm-10 -->
      </div> <!-- end of form-group -->

      <div class="form-group">
        <label class="col-sm-2">End Time: </label>
        <div class="col-sm-10 black_text">
          <div class="dropdown">
            <a class="dropdown-toggle" id="dropdown2" role="button" data-toggle="dropdown" data-target="#" href="">
              <div class="input-group"><input type="text" class="form-control" data-ng-model="create_event_data.end_date"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
              </div>
            </a>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
              <datetimepicker data-ng-model="create_event_data.end_date" data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }"/>
            </ul>
          </div>
          
        </div> <!-- end of col-sm-10 -->
      </div> <!-- end of form-group -->


      <div class="form-group">
        <label class="col-sm-2">Tokens: </label>
        <div class="col-sm-10">
          <input type="number" name="price" ng-model="create_event_data.price" class="form-control" placholder:'price'>
        </div> <!-- end of col-sm-10 -->
      </div> <!-- end of form-group -->

      <div class="form-group text-center">
        <input type="submit" value="Create event" class="btn btn-default btn btn-success btn-lg register">
        
      </div> <!-- end of form-group text-center -->

    </form>

    <div class="col-xs-12 make_space"></div> <!-- end of spacer -->
    

    
  </div> <!-- end of col-xs-12 --> 
  

</div> <!-- end of container-fluid -->

<div class="container-fluid" ng-show="user.club_admin">
  <div class="col-xs-12 make_space"></div> <!-- end of spacer -->
  <div class="col-xs-12 text-center black_text" >
    <div class="well">

      <h2><strong>Select an excel file below and click submit to upload.</strong></h2>
      <h4><strong>We will process your form and register your players soon. </strong></h4>
      <form name="form">
      
        <div class="button btn btn-success" ngf-select ng-model="file" name="file" accept=".xls"
           ngf-max-size="20MB" >Select club sheet</div>
        <p ngf-src="file">{{ file.name }}</p>
        
        <button type="submit" class="btn btn-success" ng-click="submit()">submit</button>
      </form>
    </div> <!-- end of well -->
    <span us-spinner="{radius:30, width:8, length: 16}" spinner-key="spinner-1"></span>
  </div> <!-- end of col-xs-12 -->


  <div class="col-xs-12 black_text">
    <ul class="list-group">
      <li class="list-group-item" ng-repeat="file in files">{{ file.Key.substring( ( file.Key.lastIndexOf('/') +1 ), file.Key.length) }}</li>
    </ul> <!-- end of list-group -->
  </div> <!-- end of col-xs-12 -->
</div> <!-- end of container-fluid -->



<button class="btn btn-warning btn-lg" ng-click="get_players_by_year(team.id)">Get players!</button><br>
<button class="btn btn-info btn-lg" ng-click="download()">Download </button>


<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#select_player_modal">
  Select players
</button>

<!-- Modal -->
<div class="modal fade black_text" id="select_player_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Select players for this team</h4>
      </div>
      <div class="modal-body">
        <div class="col-xs-12">
          <form ng-submit="update_members()" method="post" enctype="application/x-www-form-urlencoded">
            <div ng-repeat="memb in org_members">
              <label >
                <input type="checkbox" checklist-value="memb.id" checklist-model="team_members_array"> {{ memb.firstName }} {{ memb.lastName }} {{ memb.id }}
              </label>
            </div> <!-- end of ng-repeat="memb in org_members" -->
            <input <input type="submit" value="Update members" class="btn btn-default btn btn-success btn-lg register pull-right">
          </form>
          
        </div> <!-- end of col-xs-12 -->
      </div> <!-- end of modal-body -->
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div> <!-- end of modal-footer -->
    </div> <!-- end of modal-content -->
  </div> <!-- end of modal-dialog -->
</div> <!-- end of modal -->
