// Generated by CoffeeScript 1.10.0
'use strict';
angular.module('subzapp').controller('OrgController', [
  '$scope', '$state', '$http', '$window', '$location', 'user', 'message', 'RESOURCES', function($scope, $state, $http, $window, $location, user, message, RESOURCES) {
    var check_club_admin;
    check_club_admin = function(user) {
      if (!user.team_admin) {
        $state.go('login');
      }
      message.error('You are not a club admin. Contact subzapp admin team for assitance');
      return false;
    };
    console.log('Org Controller');
    if (!(window.USER != null)) {
      return user.get_user().then((function(res) {}), function(errResponse) {
        console.log("User get error " + (JSON.stringify(errResponse)));
        return window.USER = null;
      });
    } else {
      console.log("USER already defined");
      $scope.org = window.USER.orgs[0];
      return $scope.teams = return_teams(window.USER.teams, $location.search().id);
    }
  }
]);
