{"version":3,"sources":["controllers/EventController.coffee"],"names":[],"mappings":"AAAA;AAEA,OAAO,CAAC,MAAR,CAAe,SAAf,CAAyB,CAAC,UAA1B,CAAqC,iBAArC,EAAwD;EACtD,QADsD,EAEtD,QAFsD,EAGtD,OAHsD,EAItD,WAJsD,EAKtD,SALsD,EAMtD,MANsD,EAOtD,WAPsD,EAQtD,UARsD,EAStD,SAAE,MAAF,EAAU,MAAV,EAAkB,KAAlB,EAAyB,SAAzB,EAAoC,OAApC,EAA6C,IAA7C,EAAmD,SAAnD,EAA8D,QAA9D;AACE,QAAA;IAAA,OAAO,CAAC,GAAR,CAAY,kBAAZ;IACA,UAAA,GAAa,MAAM,CAAC,YAAY,CAAC,OAApB,CAA4B,YAA5B;IAEb,IAAG,CAAC,CAAC,mBAAD,CAAJ;MACE,IAAI,CAAC,QAAL,CAAA,CAAe,CAAC,IAAhB,CAAqB,CAAE,SAAC,GAAD,GAAA,CAAF,CAArB,EAKG,SAAE,WAAF;QACD,OAAO,CAAC,GAAR,CAAY,iBAAA,GAAiB,CAAE,IAAI,CAAC,SAAL,CAAe,WAAf,CAAF,CAA7B;QACA,MAAM,CAAC,IAAP,GAAc;eACd,MAAM,CAAC,EAAP,CAAU,OAAV;MAHC,CALH,EADF;KAAA,MAAA;MAWE,OAAO,CAAC,GAAR,CAAY,sBAAZ;MACA,MAAM,CAAC,GAAP,GAAa,MAAM,CAAC,IAAI,CAAC,IAAK,CAAA,CAAA,EAZhC;;IAcA,OAAO,CAAC,GAAR,CAAY,KAAA,GAAK,CAAE,SAAS,CAAC,MAAV,CAAA,CAAkB,CAAC,EAArB,CAAjB;WACA,KAAA,CACE;MAAA,MAAA,EAAQ,KAAR;MACA,GAAA,EAAS,SAAS,CAAC,MAAZ,GAAoB,oBAD3B;MAEA,OAAA,EAAS;QACG,eAAA,EAAiB,MAAA,GAAQ,UAD5B;QAC2C,cAAA,EAAgB,kBAD3D;OAFT;MAKA,MAAA,EACE;QAAA,QAAA,EAAU,SAAS,CAAC,MAAV,CAAA,CAAkB,CAAC,EAA7B;OANF;KADF,CAQC,CAAC,IARF,CAQO,CAAE,SAAC,GAAD;MACN,OAAO,CAAC,GAAR,CAAY,2BAAZ;MACA,OAAO,CAAC,GAAR,CAAY,GAAZ;aACA,MAAM,CAAC,aAAP,GAAuB,GAAG,CAAC,IAAI,CAAC;IAH1B,CAAF,CARP,EAaG,SAAE,WAAF;MACD,OAAO,CAAC,GAAR,CAAY,0BAAZ;aACA,OAAO,CAAC,GAAR,CAAY,WAAZ;IAFC,CAbH;EAnBF,CATsD;CAAxD","file":"controllers/EventController.js","sourceRoot":"/source/","sourcesContent":["'use strict'\r\n\r\nangular.module('subzapp').controller('EventController', [\r\n  '$scope'\r\n  '$state'\r\n  '$http'\r\n  '$location'\r\n  '$window'\r\n  'user'\r\n  'RESOURCES'\r\n  'alertify'\r\n  ( $scope, $state, $http, $location, $window, user, RESOURCES, alertify ) ->\r\n    console.log 'Event Controller'\r\n    user_token = window.localStorage.getItem 'user_token'\r\n\r\n    if !(window.USER?)\r\n      user.get_user().then ( (res) ->\r\n        # console.log \"User\"\r\n        # console.log res \r\n        \r\n\r\n      ), ( errResponse ) ->\r\n        console.log \"User get error #{ JSON.stringify errResponse }\"\r\n        window.USER = null\r\n        $state.go 'login'\r\n    else\r\n      console.log \"USER already defined\"\r\n      $scope.org = window.USER.orgs[0]\r\n    \r\n    console.log \"id #{ $location.search().id }\"\r\n    $http(\r\n      method: 'GET'\r\n      url: \"#{ RESOURCES.DOMAIN }/get-event-members\"\r\n      headers: { \r\n                  'Authorization': \"JWT #{ user_token }\", \"Content-Type\": \"application/json\"\r\n                  }\r\n      params:\r\n        event_id: $location.search().id\r\n    ).then ( (res) ->\r\n       console.log \"Get team members response\"\r\n       console.log res\r\n       $scope.event_members = res.data.event_user\r\n       \r\n    ), ( errResponse ) ->\r\n      console.log \"Get event members error \"\r\n      console.log errResponse\r\n\r\n])\r\n"]}