{"version":3,"sources":["controllers/EventController.coffee"],"names":[],"mappings":"AAAA;AAEA,OAAO,CAAC,MAAR,CAAe,SAAf,CAAyB,CAAC,UAA1B,CAAqC,iBAArC,EAAwD;EACtD,QADsD,EAEtD,QAFsD,EAGtD,OAHsD,EAItD,WAJsD,EAKtD,SALsD,EAMtD,MANsD,EAOtD,WAPsD,EAQtD,UARsD,EAStD,SAAE,MAAF,EAAU,MAAV,EAAkB,KAAlB,EAAyB,SAAzB,EAAoC,OAApC,EAA6C,IAA7C,EAAmD,SAAnD,EAA8D,QAA9D;AACE,QAAA;IAAA,OAAO,CAAC,GAAR,CAAY,kBAAZ;IACA,UAAA,GAAa,MAAM,CAAC,YAAY,CAAC,OAApB,CAA4B,YAA5B;IAEb,IAAG,CAAC,CAAC,mBAAD,CAAJ;MACE,IAAI,CAAC,QAAL,CAAA,CAAe,CAAC,IAAhB,CAAqB,CAAE,SAAC,GAAD,GAAA,CAAF,CAArB,EAKG,SAAE,WAAF;QACD,OAAO,CAAC,GAAR,CAAY,iBAAA,GAAiB,CAAE,IAAI,CAAC,SAAL,CAAe,WAAf,CAAF,CAA7B;QACA,MAAM,CAAC,IAAP,GAAc;eACd,MAAM,CAAC,EAAP,CAAU,OAAV;MAHC,CALH,EADF;KAAA,MAAA;MAWE,OAAO,CAAC,GAAR,CAAY,sBAAZ;MACA,MAAM,CAAC,GAAP,GAAa,MAAM,CAAC,IAAI,CAAC,IAAK,CAAA,CAAA,EAZhC;;IAcA,OAAO,CAAC,GAAR,CAAY,KAAA,GAAK,CAAE,SAAS,CAAC,MAAV,CAAA,CAAkB,CAAC,EAArB,CAAjB;WACA,KAAA,CACE;MAAA,MAAA,EAAQ,KAAR;MACA,GAAA,EAAS,SAAS,CAAC,MAAZ,GAAoB,oBAD3B;MAEA,OAAA,EAAS;QACG,eAAA,EAAiB,MAAA,GAAQ,UAD5B;QAC2C,cAAA,EAAgB,kBAD3D;OAFT;MAKA,MAAA,EACE;QAAA,QAAA,EAAU,SAAS,CAAC,MAAV,CAAA,CAAkB,CAAC,EAA7B;OANF;KADF,CAQC,CAAC,IARF,CAQO,CAAE,SAAC,GAAD;MACN,OAAO,CAAC,GAAR,CAAY,2BAAZ;MACA,OAAO,CAAC,GAAR,CAAY,GAAZ;aACA,MAAM,CAAC,aAAP,GAAuB,GAAG,CAAC,IAAI,CAAC;IAH1B,CAAF,CARP,EAaG,SAAE,WAAF;MACD,OAAO,CAAC,GAAR,CAAY,0BAAZ;aACA,OAAO,CAAC,GAAR,CAAY,WAAZ;IAFC,CAbH;EAnBF,CATsD;CAAxD","file":"controllers/EventController.js","sourceRoot":"/source/","sourcesContent":["'use strict'\n\nangular.module('subzapp').controller('EventController', [\n  '$scope'\n  '$state'\n  '$http'\n  '$location'\n  '$window'\n  'user'\n  'RESOURCES'\n  'alertify'\n  ( $scope, $state, $http, $location, $window, user, RESOURCES, alertify ) ->\n    console.log 'Event Controller'\n    user_token = window.localStorage.getItem 'user_token'\n\n    if !(window.USER?)\n      user.get_user().then ( (res) ->\n        # console.log \"User\"\n        # console.log res \n        \n\n      ), ( errResponse ) ->\n        console.log \"User get error #{ JSON.stringify errResponse }\"\n        window.USER = null\n        $state.go 'login'\n    else\n      console.log \"USER already defined\"\n      $scope.org = window.USER.orgs[0]\n    \n    console.log \"id #{ $location.search().id }\"\n    $http(\n      method: 'GET'\n      url: \"#{ RESOURCES.DOMAIN }/get-event-members\"\n      headers: { \n                  'Authorization': \"JWT #{ user_token }\", \"Content-Type\": \"application/json\"\n                  }\n      params:\n        event_id: $location.search().id\n    ).then ( (res) ->\n       console.log \"Get team members response\"\n       console.log res\n       $scope.event_members = res.data.event_user\n       \n    ), ( errResponse ) ->\n      console.log \"Get event members error \"\n      console.log errResponse\n\n])\n"]}