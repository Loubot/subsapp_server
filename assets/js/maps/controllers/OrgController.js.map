{"version":3,"sources":["controllers/OrgController.coffee"],"names":[],"mappings":"AAAA;AAEA,OAAO,CAAC,MAAR,CAAe,SAAf,CAAyB,CAAC,UAA1B,CAAqC,eAArC,EAAsD;EACpD,QADoD,EAEpD,QAFoD,EAGpD,OAHoD,EAIpD,SAJoD,EAKpD,WALoD,EAMpD,MANoD,EAOpD,WAPoD,EAQpD,UARoD,EASpD,SAAE,MAAF,EAAU,MAAV,EAAkB,KAAlB,EAAyB,OAAzB,EAAkC,SAAlC,EAA6C,IAA7C,EAAmD,SAAnD,EAA8D,QAA9D;AACE,QAAA;IAAA,UAAA,GAAa,MAAM,CAAC,YAAY,CAAC,OAApB,CAA4B,YAA5B;IAGb,gBAAA,GAAmB,SAAE,IAAF;MACjB,IAAqB,CAAC,IAAI,CAAC,UAA3B;QAAA,MAAM,CAAC,EAAP,CAAU,OAAV,EAAA;;MACA,QAAQ,CAAC,KAAT,CAAe,oEAAf;AACA,aAAO;IAHU;IAKnB,OAAO,CAAC,GAAR,CAAY,gBAAZ;IACA,IAAG,CAAC,CAAC,mBAAD,CAAJ;MACE,IAAI,CAAC,QAAL,CAAA,CAAe,CAAC,IAAhB,CAAqB,CAAE,SAAC,GAAD;eAErB,MAAM,CAAC,GAAP,GAAa,MAAM,CAAC,IAAI,CAAC,IAAK,CAAA,CAAA;MAFT,CAAF,CAArB,EAIG,SAAE,WAAF;QACD,OAAO,CAAC,GAAR,CAAY,iBAAA,GAAiB,CAAE,IAAI,CAAC,SAAL,CAAe,WAAf,CAAF,CAA7B;QACA,MAAM,CAAC,IAAP,GAAc;eACd,MAAM,CAAC,EAAP,CAAU,OAAV;MAHC,CAJH,EADF;KAAA,MAAA;MAUE,OAAO,CAAC,GAAR,CAAY,sBAAZ;MACA,MAAM,CAAC,GAAP,GAAa,MAAM,CAAC,IAAI,CAAC,IAAK,CAAA,CAAA,EAXhC;;WAeA,MAAM,CAAC,WAAP,GAAqB,SAAA;aACnB,KAAA,CACE;QAAA,MAAA,EAAQ,KAAR;QACA,GAAA,EAAS,SAAS,CAAC,MAAZ,GAAoB,gBAD3B;QAEA,OAAA,EAAS;UACC,eAAA,EAAiB,MAAA,GAAQ,UAD1B;UACyC,cAAA,EAAgB,kBADzD;SAFT;OADF,CAMC,CAAC,IANF,CAMO,CAAE,SAAE,GAAF;QACP,OAAO,CAAC,GAAR,CAAY,sBAAZ;QACA,OAAO,CAAC,GAAR,CAAY,GAAZ;eACA,MAAM,CAAC,WAAP,GAAqB;MAHd,CAAF,CANP,EAUG,SAAE,WAAF;QACD,OAAO,CAAC,GAAR,CAAY,mBAAZ;eACA,OAAO,CAAC,GAAR,CAAY,WAAZ;MAFC,CAVH;IADmB;EAzBvB,CAToD;CAAtD","file":"controllers/OrgController.js","sourceRoot":"/source/","sourcesContent":["'use strict'\n\nangular.module('subzapp').controller('OrgController', [\n  '$scope'\n  '$state'\n  '$http'\n  '$window'\n  '$location'\n  'user'\n  'RESOURCES'\n  'alertify'\n  ( $scope, $state, $http, $window, $location, user, RESOURCES, alertify ) ->\n    user_token = window.localStorage.getItem 'user_token'\n        \n\n    check_club_admin = ( user ) ->\n      $state.go 'login' if !user.team_admin\n      alertify.error 'You are not a club admin. Contact subzapp admin team for assitance'\n      return false \n\n    console.log 'Org Controller'\n    if !(window.USER?)\n      user.get_user().then ( (res) ->\n        # console.log \"User set to #{ JSON.stringify window.USER }\"\n        $scope.org = window.USER.orgs[0]\n\n      ), ( errResponse ) ->\n        console.log \"User get error #{ JSON.stringify errResponse }\"\n        window.USER = null\n        $state.go 'login'\n    else\n      console.log \"USER already defined\"\n      $scope.org = window.USER.orgs[0]\n        \n      \n\n    $scope.parse_users = ->\n      $http(\n        method: 'GET'\n        url: \"#{ RESOURCES.DOMAIN }/parse-players\"\n        headers: { \n                  'Authorization': \"JWT #{ user_token }\", \"Content-Type\": \"application/json\"\n                  }\n      ).then ( ( res ) ->\n        console.log \"parse users response\"\n        console.log res\n        $scope.parsed_data = res\n      ), ( errResponse ) ->\n        console.log \"Parse users error\"\n        console.log errResponse\n\n])\n\n\n"]}