{"version":3,"sources":["controllers/RegisterController.coffee"],"names":[],"mappings":"AAAA;AAEA,OAAO,CAAC,MAAR,CAAe,SAAf,CAAyB,CAAC,UAA1B,CAAqC,oBAArC,EAA2D;EACzD,QADyD,EAEzD,QAFyD,EAGzD,OAHyD,EAIzD,SAJyD,EAKzD,UALyD,EAMzD,WANyD,EAOzD,SAAE,MAAF,EAAU,MAAV,EAAkB,KAAlB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4C,SAA5C;IACE,OAAO,CAAC,GAAR,CAAY,qBAAZ;WAEA,MAAM,CAAC,eAAP,GAAyB,SAAA;MACvB,MAAM,CAAC,kBAAkB,CAAC,UAA1B,GAAuC;MACvC,MAAM,CAAC,kBAAkB,CAAC,UAA1B,GAAuC;MACvC,OAAO,CAAC,GAAR,CAAY,MAAM,CAAC,kBAAnB;aACA,KAAA,CACE;QAAA,MAAA,EAAQ,MAAR;QACA,GAAA,EAAS,SAAS,CAAC,MAAZ,GAAoB,cAD3B;QAEA,OAAA,EAAS;UACC,cAAA,EAAgB,kBADjB;SAFT;QAKA,IAAA,EAAM,MAAM,CAAC,kBALb;OADF,CAOC,CAAC,IAPF,CAOO,CAAE,SAAC,QAAD;QACP,OAAO,CAAC,GAAR,CAAY,2BAAA,GAA2B,CAAE,IAAI,CAAC,SAAL,CAAe,QAAf,CAAF,CAAvC;QACA,MAAM,CAAC,YAAY,CAAC,OAApB,CAA4B,YAA5B,EAA0C,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAA7D;QAEA,MAAM,CAAC,YAAY,CAAC,OAApB,CAA4B,SAA5B,EAAuC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAA/D;QACA,QAAQ,CAAC,OAAT,CAAiB,SAAjB;eACA,MAAM,CAAC,EAAP,CAAU,WAAV;MANO,CAAF,CAPP,EAcG,SAAE,WAAF;QACD,OAAO,CAAC,GAAR,CAAY,sBAAZ;QACA,UAAA,CAAW,CAAE,SAAA;iBACX,MAAM,CAAC,EAAP,CAAU,OAAV;QADW,CAAF,CAAX,EAEG,IAFH;QAGA,OAAO,CAAC,GAAR,CAAY,WAAZ;QACA,OAAO,CAAC,GAAR,CAAY,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAM,CAAA,CAAA,CAAE,CAAC,OAAxD;eAEA,QAAQ,CAAC,KAAT,CAAe,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAM,CAAA,CAAA,CAAE,CAAC,OAA3D;MARC,CAdH;IAJuB;EAH3B,CAPyD;CAA3D","file":"controllers/RegisterController.js","sourceRoot":"/source/","sourcesContent":["'use strict'\n\nangular.module('subzapp').controller('RegisterController', [\n  '$scope'\n  '$state'\n  '$http'\n  '$window'\n  'alertify'\n  'RESOURCES'\n  ( $scope, $state, $http, $window, alertify, RESOURCES ) ->\n    console.log 'Register Controller'\n\n    $scope.register_submit = ->\n      $scope.register_form_data.club_admin = true\n      $scope.register_form_data.team_admin = true\n      console.log $scope.register_form_data\n      $http(\n        method: 'POST'\n        url: \"#{ RESOURCES.DOMAIN }/auth/signup\"\n        headers: {\n                  'Content-Type': 'application/json'\n                  }\n        data: $scope.register_form_data\n      ).then ( (response) ->\n        console.log \"Registration successfull #{ JSON.stringify response }\"\n        window.localStorage.setItem 'user_token', response.data.data.token\n        # console.log \"user_token \" + window.localStorage.getItem 'user_token'\n        window.localStorage.setItem 'user_id', response.data.data.user.id\n        alertify.success 'Welcome'\n        $state.go 'org_admin'\n      ), ( errResponse ) ->\n        console.log \"Registration failed \"\n        setTimeout ( ->\n          $state.go 'login' \n        ), 5000\n        console.log errResponse\n        console.log errResponse.data.invalidAttributes.email[0].message        \n       \n        alertify.error errResponse.data.invalidAttributes.email[0].message\n       \n        \n])"]}