<<<<<<< HEAD
{"version":3,"sources":["controllers/OrgAdminTeamController.coffee"],"names":[],"mappings":"AAAA;AAEA,OAAO,CAAC,MAAR,CAAe,SAAf,CAAyB,CAAC,UAA1B,CAAqC,wBAArC,EAA+D;EAC7D,QAD6D,EAE7D,YAF6D,EAG7D,QAH6D,EAI7D,OAJ6D,EAK7D,SAL6D,EAM7D,MAN6D,EAO7D,WAP6D,EAQ7D,UAR6D,EAS7D,OAT6D,EAU7D,SAAE,MAAF,EAAU,UAAV,EAAsB,MAAtB,EAA8B,KAA9B,EAAqC,OAArC,EAA8C,IAA9C,EAAoD,SAApD,EAA+D,QAA/D,EAAyE,KAAzE;AACE,QAAA;IAAA,OAAO,CAAC,GAAR,CAAY,yBAAZ;IACA,gBAAA,GAAmB,SAAE,IAAF;MACjB,IAAG,CAAC,IAAI,CAAC,UAAT;QACE,MAAM,CAAC,EAAP,CAAU,OAAV;eACA,QAAQ,CAAC,KAAT,CAAe,oEAAf,EAFF;;IADiB;IAKnB,OAAA,GAAU,MAAM,CAAC,YAAY,CAAC,OAApB,CAA4B,SAA5B;IAEV,IAAI,CAAC,QAAL,CAAA,CAAe,CAAC,IAAhB,CAAqB,CAAE,SAAC,GAAD;MACrB,gBAAA,CAAiB,GAAG,CAAC,IAArB;MAEA,MAAM,CAAC,IAAP,GAAc,UAAU,CAAC;aACzB,MAAM,CAAC,IAAP,GAAc,UAAU,CAAC,IAAI,CAAC;IAJT,CAAF,CAArB;IAQA,KAAK,CAAC,GAAN,CAEE,WAFF,EAEe;MAAA,OAAA,EAAS,OAAT;KAFf,CAIC,CAAC,IAJF,CAIO,CAAE,SAAE,GAAF;MACP,OAAO,CAAC,GAAR,CAAY,iBAAZ;MACA,OAAO,CAAC,GAAR,CAAY,GAAZ;MACA,MAAM,CAAC,GAAP,GAAa,GAAG,CAAC,IAAI,CAAC;aACtB,MAAM,CAAC,IAAP,GAAc,GAAG,CAAC;IAJX,CAAF,CAJP,EASG,SAAE,WAAF;MACD,OAAO,CAAC,GAAR,CAAY,gBAAZ;aACA,OAAO,CAAC,GAAR,CAAY,WAAZ;IAFC,CATH;WAaA,MAAM,CAAC,cAAP,GAAwB,SAAA;MACtB,OAAO,CAAC,GAAR,CAAY,MAAM,CAAC,mBAAnB;aACA,KAAK,CAAC,IAAN,CACE,iBADF,EAEE;QAAE,MAAA,EAAQ,MAAM,CAAC,GAAG,CAAC,EAArB;QAEA,OAAA,EAAS,SAAS,CAAC,MAAV,CAAA,CAAkB,CAAC,EAF5B;QAGA,UAAA,EAAY,MAAM,CAAC,IAAI,CAAC,EAHxB;QAIA,gBAAA,EAAkB,MAAM,CAAC,IAAI,CAAC,KAJ9B;QAKA,aAAA,EAAe,MAAM,CAAC,mBAAmB,CAAC,aAL1C;QAMA,aAAA,EAAe,MAAM,CAAC,GAAG,CAAC,IAN1B;QAOA,SAAA,EAAW,MAAM,CAAC,IAAI,CAAC,IAPvB;OAFF,CAWC,CAAC,IAXF,CAWO,CAAE,SAAE,QAAF;QACP,OAAO,CAAC,GAAR,CAAY,kBAAZ;QACA,OAAO,CAAC,GAAR,CAAY,QAAZ;eACA,QAAQ,CAAC,OAAT,CAAiB,gBAAjB;MAHO,CAAF,CAXP,EAeG,SAAE,WAAF;QACD,OAAO,CAAC,GAAR,CAAY,kBAAZ;QACA,OAAO,CAAC,GAAR,CAAY,WAAZ;eACA,QAAQ,CAAC,KAAT,CAAe,WAAW,CAAC,OAA3B;MAHC,CAfH;IAFsB;EA9B1B,CAV6D;CAA/D","file":"controllers/OrgAdminTeamController.js","sourceRoot":"/source/","sourcesContent":["'use strict'\r\n\r\nangular.module('subzapp').controller('OrgAdminTeamController', [\r\n  '$scope'\r\n  '$rootScope'\r\n  '$state'\r\n  '$http'\r\n  '$window'\r\n  'user'\r\n  'RESOURCES'\r\n  'alertify'\r\n  'COMMS'\r\n  ( $scope, $rootScope, $state, $http, $window, user, RESOURCES, alertify, COMMS ) ->\r\n    console.log 'OrgAdminTeam Controller'\r\n    check_club_admin = ( user ) ->\r\n      if !user.club_admin\r\n        $state.go 'login' \r\n        alertify.error 'You are not a club admin. Contact subzapp admin team for assitance'\r\n\r\n    team_id = window.localStorage.getItem 'team_id'\r\n\r\n    user.get_user().then ( (res) ->\r\n      check_club_admin(res.data)\r\n      # console.log \"Got user #{ JSON.stringify res }\"\r\n      $scope.user = $rootScope.USER\r\n      $scope.orgs = $rootScope.USER.orgs\r\n      \r\n    )\r\n# \"https://ie-mg42.mail.yahoo.com/neo/launch?.rand=3kv9scfolg9ma#\"\r\n    COMMS.GET(\r\n\r\n      '/get-team', team_id: team_id\r\n\r\n    ).then ( ( res ) ->\r\n      console.log \"Get team result\"\r\n      console.log res\r\n      $scope.org = res.data.main_org\r\n      $scope.team = res.data\r\n    ), ( errResponse ) ->\r\n      console.log \"Get team error\"\r\n      console.log errResponse\r\n\r\n    $scope.invite_manager = ->\r\n      console.log $scope.invite_manager_data\r\n      COMMS.POST(\r\n        '/invite-manager'\r\n        { org_id: $scope.org.id\r\n\r\n        team_id: $location.search().id\r\n        club_admin: $scope.user.id\r\n        club_admin_email: $scope.user.email\r\n        invited_email: $scope.invite_manager_data.invited_email\r\n        main_org_name: $scope.org.name\r\n        team_name: $scope.team.name }\r\n\r\n      ).then ( ( response ) ->\r\n        console.log \"Send invite mail\"\r\n        console.log response\r\n        alertify.success \"Invite sent ok\"\r\n      ), ( errResponse ) ->\r\n        console.log \"Send invite mail\"\r\n        console.log errResponse\r\n        alertify.error errResponse.message \r\n])\r\n\r\n"]}
=======
{"version":3,"sources":["controllers/OrgAdminTeamController.coffee"],"names":[],"mappings":"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","file":"controllers/OrgAdminTeamController.js","sourceRoot":"/source/","sourcesContent":["'use strict'\r\n\r\nangular.module('subzapp').controller('OrgAdminTeamController', [\r\n  '$scope'\r\n  '$state'\r\n  '$http'\r\n  '$window'\r\n  'user'\r\n  '$location'\r\n  'RESOURCES'\r\n  'alertify'\r\n  ( $scope, $state, $http, $window, user, $location, RESOURCES, alertify ) ->\r\n    console.log 'OrgAdminTeam Controller'\r\n    check_club_admin = ( user ) ->\r\n      if !user.club_admin\r\n        $state.go 'login' \r\n        alertify.error 'You are not a club admin. Contact subzapp admin team for assitance'\r\n        \r\n\r\n    user_token = window.localStorage.getItem 'user_token'\r\n\r\n    user.get_user().then ( (res) ->\r\n      check_club_admin(res.data)\r\n      # console.log \"Got user #{ JSON.stringify res }\"\r\n      $scope.user = res.data\r\n      $scope.orgs = window.USER.orgs\r\n      \r\n    )\r\n    console.log $location.search().id\r\n# \"https://ie-mg42.mail.yahoo.com/neo/launch?.rand=3kv9scfolg9ma#\"\r\n    $http(\r\n      method: 'GET'\r\n      url: \"#{ RESOURCES.DOMAIN }/get-team\"\r\n      headers: { \r\n                'Authorization': \"JWT #{ user_token }\", \"Content-Type\": \"application/json\"\r\n                }\r\n      params:\r\n        team_id: $location.search().id\r\n    ).then ( ( res ) ->\r\n      console.log \"Get team result\"\r\n      console.log res\r\n      $scope.org = res.data.main_org\r\n      $scope.team = res.data\r\n    ), ( errResponse ) ->\r\n      console.log \"Get team error\"\r\n      console.log errResponse\r\n\r\n    $scope.invite_manager = ->\r\n      console.log $scope.invite_manager_data\r\n      $http(\r\n        method: 'POST'\r\n        url: \"#{ RESOURCES.DOMAIN }/invite-manager\"\r\n        headers: { \r\n                  'Authorization': \"JWT #{ user_token }\", \"Content-Type\": \"application/json\"\r\n                  }\r\n        data:\r\n          org_id: $scope.org.id\r\n          team_id: $location.search().id\r\n          club_admin: $scope.user.id\r\n          club_admin_email: $scope.user.email\r\n          invited_email: $scope.invite_manager_data.invited_email\r\n          main_org_name: $scope.org.name\r\n          team_name: $scope.team.name\r\n      ).then ( ( response ) ->\r\n        console.log \"Send invite mail\"\r\n        console.log response\r\n        alertify.success \"Invite sent ok\"\r\n      ), ( errResponse ) ->\r\n        console.log \"Send invite mail\"\r\n        console.log errResponse\r\n        alertify.error errResponse.message \r\n])\r\n\r\n"]}
>>>>>>> master
